{"title":"UDP","uid":"6d487588c7e406811559edfe45923441","slug":"03_HTTP/UDP","date":"2016-03-20T07:05:07.000Z","updated":"2022-10-05T13:38:02.011Z","comments":true,"path":"api/articles/03_HTTP/UDP.json","keywords":null,"cover":[],"content":"<ul>\n<li>用户数据报协议 UDP（User Datagram Protocol）:无连接；尽最大努力的交付；面向报文；无拥塞控制；支持一对一、一对多、多对一、多对多的交互通信；首部开销小(只有四个字段：源端口、目的端口、长度、检验和)。UDP是面向报文的传输方式是应用层交给UDP多长的报文，UDP发送多长的报文，即一次发送一个报文。因此，应用程序必须选择合适大小的报文。</li>\n<li>传输控制协议 TCP（Transmission Control Protocol）:面向连接；每一个TCP连接只能是点对点的(一对一)；提供可靠交付服务；提供全双工通信；面向字节流。应用程序和TCP的交互是一次一个数据块(大小不等)，但TCP把应用程序看成是一连串的无结构的字节流。TCP有一个缓冲，当应该程序传送的数据块太长，TCP就可以把它划分短一些再传送。</li>\n</ul>\n<p><strong>UDP的首部格式:</strong></p>\n<p><img src=\"/mikeah2011/Users/michael/Project/MichaelBlog/images/UDP.png\" alt=\"img\"></p>\n<p>用户数据报有两个字段：数据字段和首部字段，数据字段很简单，只有8个字节，由四个字段组成，每个字段的长度都是两个字节。各字段意义如下：</p>\n<ol>\n<li><strong>源端口：</strong> 源端口号，在需要给对方回信时使用。不需要是可全用0.</li>\n<li><strong>目的端口号：</strong> 这在终点交付报文时必须使用。</li>\n<li><strong>长度：</strong> 用户数据报UDP的长度，最小为8（仅首部）。</li>\n<li><strong>校验和：</strong> 用于校验用户数据报在传输过程是否出错，出错则丢弃该报文。</li>\n</ol>\n<h2 id=\"TCP报文首部格式\"><a href=\"#TCP报文首部格式\" class=\"headerlink\" title=\"TCP报文首部格式:\"></a>TCP报文首部格式:</h2><p><img src=\"/mikeah2011/Users/michael/Project/MichaelBlog/images/TCP.png\" alt=\"img\"></p>\n<p><strong>源端口和目的端口:</strong> 各占两个字节，分别写入源端口号和目的端口号。<br><strong>序号 ：</strong> </p>\n<p>占4个字节；用于对字节流进行编号，例如序号为 301，表示第一个字节的编号为 301，如果携带的数据长度为 100 字节，那么下一个报文段的序号应为 401。<br><strong>确认号 ：</strong> </p>\n<p>占4个字节；期望收到的下一个报文段的序号。例如 B 正确收到 A 发送来的一个报文段，序号为 501，携带的数据长度为 200 字节，因此 B 期望下一个报文段的序号为 701，B 发送给 A 的确认报文段中确认号就为 701。<br><strong>数据偏移 ：</strong> </p>\n<p>占4位；指的是数据部分距离报文段起始处的偏移量，实际上指的是首部的长度。<br><strong>确认 ACK ：</strong> </p>\n<p>当 ACK&#x3D;1 时确认号字段有效，否则无效。TCP 规定，在连接建立后所有传送的报文段都必须把 ACK 置 1。<br>同步 SYN ：</p>\n<p>在连接建立时用来同步序号。当 SYN&#x3D;1，ACK&#x3D;0 时表示这是一个连接请求报文段。若对方同意建立连接，则响应报文中 SYN&#x3D;1，ACK&#x3D;1。<br><strong>终止 FIN ：</strong> </p>\n<p>用来释放一个连接，当 FIN&#x3D;1 时，表示此报文段的发送方的数据已发送完毕，并要求释放连接。<br><strong>窗口 ：</strong> </p>\n<p>占2字节；窗口值作为接收方让发送方设置其发送窗口的依据。之所以要有这个限制，是因为接收方的数据缓存空间是有限的。<br><strong>检验和：</strong> </p>\n<p>占2个字节；检验和字段检验的范围包括首部和数据这两个部分。在计算检验和时，在TCP报文段的前面加上12字节的伪首部。<br><strong>套接字：</strong></p>\n<p> TCP连接的端点叫做套接字或插口。端口号拼接到IP地址即构成了套接字。</p>\n","text":" 用户数据报协议 UDP（User Datagram Protocol）:无连接；尽最大努力的交付；面向报文；无拥塞控制；支持一对一、一对多、多对一、多对多的交互通信；首部开销小(只有四个字段：源端口、目的端口、长度、检验和)。UDP是面向报文的传输方式是应用层交给UDP多长的报...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"网络编程","slug":"网络编程","count":9,"path":"api/categories/网络编程.json"}],"tags":[{"name":"UDP","slug":"UDP","count":1,"path":"api/tags/UDP.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#TCP%E6%8A%A5%E6%96%87%E9%A6%96%E9%83%A8%E6%A0%BC%E5%BC%8F\"><span class=\"toc-text\">TCP报文首部格式:</span></a></li></ol>","author":{"name":"Michael","slug":"michael","avatar":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/blog_logo.jpeg","link":"/","description":"知我所能者，我所能者，尽善尽美；<br/> <br/> 知我所不能者，我所不能者，虚怀若谷。","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"https://stackoverflow.com/users/11422545/mikeah2011","wechat":"","qq":"","weibo":"https://weibo.com/u/2383628417","zhihu":"https://www.zhihu.com/people/michael-12-18","csdn":"https://blog.csdn.net/weixin_41273562","juejin":"https://juejin.cn/user/4389711549044269","customs":{}}},"mapped":true,"prev_post":{"title":"TCP/IP","uid":"663da5c433b044584e25ee70419ef2e6","slug":"03_HTTP/TCP&IP","date":"2016-03-20T07:05:07.000Z","updated":"2022-10-05T13:38:02.011Z","comments":true,"path":"api/articles/03_HTTP/TCP&IP.json","keywords":null,"cover":[],"text":"TCP&#x2F;IP（Transmission Control Protocol&#x2F;Internet Protocol，传输控制协议&#x2F;网际协议） 是指能够在多个不同网络间实现信息传输的协议簇。 TCP&#x2F;IP协议不仅仅指的是TCP 和IP两个协议， 而...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"网络编程","slug":"网络编程","count":9,"path":"api/categories/网络编程.json"}],"tags":[{"name":"TCP/IP","slug":"TCP-IP","count":1,"path":"api/tags/TCP-IP.json"}],"author":{"name":"Michael","slug":"michael","avatar":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/blog_logo.jpeg","link":"/","description":"知我所能者，我所能者，尽善尽美；<br/> <br/> 知我所不能者，我所不能者，虚怀若谷。","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"https://stackoverflow.com/users/11422545/mikeah2011","wechat":"","qq":"","weibo":"https://weibo.com/u/2383628417","zhihu":"https://www.zhihu.com/people/michael-12-18","csdn":"https://blog.csdn.net/weixin_41273562","juejin":"https://juejin.cn/user/4389711549044269","customs":{}}}},"next_post":{"title":"覆盖索引","uid":"14259dca92b4f8c7a0ce08ea8747bdb9","slug":"01_MySQL/索引/覆盖索引","date":"2016-03-20T07:05:07.000Z","updated":"2022-10-05T13:38:01.999Z","comments":true,"path":"api/articles/01_MySQL/索引/覆盖索引.json","keywords":null,"cover":null,"text":"覆盖索引，指的是在一次查询中，一个索引包含所有需要查询的字段的值，可能是返回值或where条件 select buyer_id from order where money &gt; 100 假如我们创建了一个(money，buyer_id)的联合索引，索引的叶子节点包含了buy...","link":"","photos":[],"count_time":{"symbolsCount":160,"symbolsTime":"1 mins."},"categories":[{"name":"索引","slug":"索引","count":14,"path":"api/categories/索引.json"}],"tags":[{"name":"索引","slug":"索引","count":15,"path":"api/tags/索引.json"}],"author":{"name":"Michael","slug":"michael","avatar":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/blog_logo.jpeg","link":"/","description":"知我所能者，我所能者，尽善尽美；<br/> <br/> 知我所不能者，我所不能者，虚怀若谷。","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"https://stackoverflow.com/users/11422545/mikeah2011","wechat":"","qq":"","weibo":"https://weibo.com/u/2383628417","zhihu":"https://www.zhihu.com/people/michael-12-18","csdn":"https://blog.csdn.net/weixin_41273562","juejin":"https://juejin.cn/user/4389711549044269","customs":{}}}}}