{"title":"Kubernetes 基础操作命令","uid":"d87e3b52c409ec7187f6e118ea506ef4","slug":"Kubernetes/Kubernetes","date":"2021-03-20T02:23:13.000Z","updated":"2022-10-05T13:38:02.023Z","comments":true,"path":"api/articles/Kubernetes/Kubernetes.json","keywords":null,"cover":null,"content":"<table>\n<thead>\n<tr>\n<th align=\"left\">初始版本</th>\n<th>2014年6月7日，7年前</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">稳定版本</td>\n<td>1.23.1（2021年12月16日，2个月前）</td>\n</tr>\n<tr>\n<td align=\"left\">源代码库</td>\n<td><a href=\"https://github.com/kubernetes/kubernetes\">kubernetes</a></td>\n</tr>\n<tr>\n<td align=\"left\">编程语言</td>\n<td>Go</td>\n</tr>\n<tr>\n<td align=\"left\">操作系统</td>\n<td>跨平台</td>\n</tr>\n<tr>\n<td align=\"left\">类型</td>\n<td>集群管理</td>\n</tr>\n<tr>\n<td align=\"left\">许可协议</td>\n<td>Apache许可证 2.0</td>\n</tr>\n<tr>\n<td align=\"left\">网站</td>\n<td><a href=\"https://kubernetes.io/\">kubernetes.io</a></td>\n</tr>\n</tbody></table>\n<p><strong>Kubernetes</strong>（常简称为<strong>K8s</strong>）是用于自动部署、扩展和管理“容器化（containerized）应用程序”的开源系统。该系统由 Google 设计并捐赠给Cloud Native Computing Foundation（今属Linux基金会）来使用。</p>\n<p>它旨在提供“跨主机集群的自动部署、扩展以及运行应用程序容器的平台”。它支持一系列容器工具，包括Docker等。</p>\n<p>More info: <a href=\"https://zh.wikipedia.org/wiki/Kubernetes\">Kubernetes</a></p>\n<h2 id=\"Bash-Command\"><a href=\"#Bash-Command\" class=\"headerlink\" title=\"Bash Command\"></a>Bash Command</h2><h3 id=\"查看默认命名空间下的pod\"><a href=\"#查看默认命名空间下的pod\" class=\"headerlink\" title=\"查看默认命名空间下的pod\"></a>查看默认命名空间下的pod</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl get pods</code></pre>\n\n<p>或</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl get pod</code></pre>\n\n<p>或</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl get po</code></pre>\n\n\n\n<h3 id=\"查看所有的命名空间\"><a href=\"#查看所有的命名空间\" class=\"headerlink\" title=\"查看所有的命名空间\"></a>查看所有的命名空间</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl get po -A</code></pre>\n\n\n\n<h3 id=\"查看指定命名空间下的所有pod\"><a href=\"#查看指定命名空间下的所有pod\" class=\"headerlink\" title=\"查看指定命名空间下的所有pod\"></a>查看指定命名空间下的所有pod</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl get po -n dev-jingsocial</code></pre>\n\n\n\n<h3 id=\"进入某一个pod默认的容器\"><a href=\"#进入某一个pod默认的容器\" class=\"headerlink\" title=\"进入某一个pod默认的容器\"></a>进入某一个pod默认的容器</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl exec user-deployment-66f996944c-9b4qq bash -itn dev-jingsocial</code></pre>\n\n\n\n<h3 id=\"查看配置里某一个配置项的集合\"><a href=\"#查看配置里某一个配置项的集合\" class=\"headerlink\" title=\"查看配置里某一个配置项的集合\"></a>查看配置里某一个配置项的集合</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl get po -o jsonpath&#x3D;&#123;.items..metadata.labels.k8s-app&#125; -n dev-jingsocial </code></pre>\n\n\n\n<h3 id=\"查看某一个label的pod容器名称\"><a href=\"#查看某一个label的pod容器名称\" class=\"headerlink\" title=\"查看某一个label的pod容器名称\"></a>查看某一个label的pod容器名称</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl get po -o jsonpath&#x3D;&#123;.items..metadata.name&#125; -n dev-jingsocial</code></pre>\n\n\n\n<h3 id=\"进入某一个动态指定的容器\"><a href=\"#进入某一个动态指定的容器\" class=\"headerlink\" title=\"进入某一个动态指定的容器\"></a>进入某一个动态指定的容器</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl exec $(kubectl get po -l k8s-app&#x3D;user -o jsonpath&#x3D;&#123;.items..metadata.name&#125; -n dev-jingsocial) bash -itn dev-jingsocial</code></pre>\n\n\n\n<h3 id=\"拷贝本地文件到容器\"><a href=\"#拷贝本地文件到容器\" class=\"headerlink\" title=\"拷贝本地文件到容器\"></a>拷贝本地文件到容器</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl cp &#x2F;Users&#x2F;michael&#x2F;.kube&#x2F;config user-deployment-66f996944c-9b4qq:&#x2F;var&#x2F;www&#x2F;.kube&#x2F;config -n dev-jingsocial</code></pre>\n\n\n\n<h3 id=\"拷贝容器文件到本地\"><a href=\"#拷贝容器文件到本地\" class=\"headerlink\" title=\"拷贝容器文件到本地\"></a>拷贝容器文件到本地</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">kubectl cp user-deployment-66f996944c-9b4qq:&#x2F;var&#x2F;www&#x2F;.kube&#x2F;config &#x2F;Users&#x2F;michael&#x2F;.kube&#x2F;config -n dev-jingsocial</code></pre>\n\n","text":" 初始版本 2014年6月7日，7年前 稳定版本 1.23.1（2021年12月16日，2个月前） 源代码库 kubernetes 编程语言 Go 操作系统 跨平台 类型 集群管理 许可协议 Apache许可证 2.0 网站 kubernetes.io Kubernetes（常简...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"kubernetes","slug":"kubernetes","count":1,"path":"api/categories/kubernetes.json"},{"name":"command","slug":"kubernetes/command","count":1,"path":"api/categories/kubernetes/command.json"}],"tags":[{"name":"kubernetes","slug":"kubernetes","count":1,"path":"api/tags/kubernetes.json"},{"name":"kubectl","slug":"kubectl","count":1,"path":"api/tags/kubectl.json"},{"name":"K8S","slug":"K8S","count":1,"path":"api/tags/K8S.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Bash-Command\"><span class=\"toc-text\">Bash Command</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E9%BB%98%E8%AE%A4%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8B%E7%9A%84pod\"><span class=\"toc-text\">查看默认命名空间下的pod</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E7%9A%84%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4\"><span class=\"toc-text\">查看所有的命名空间</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89pod\"><span class=\"toc-text\">查看指定命名空间下的所有pod</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%9B%E5%85%A5%E6%9F%90%E4%B8%80%E4%B8%AApod%E9%BB%98%E8%AE%A4%E7%9A%84%E5%AE%B9%E5%99%A8\"><span class=\"toc-text\">进入某一个pod默认的容器</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E9%85%8D%E7%BD%AE%E9%87%8C%E6%9F%90%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E9%A1%B9%E7%9A%84%E9%9B%86%E5%90%88\"><span class=\"toc-text\">查看配置里某一个配置项的集合</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%80%E4%B8%AAlabel%E7%9A%84pod%E5%AE%B9%E5%99%A8%E5%90%8D%E7%A7%B0\"><span class=\"toc-text\">查看某一个label的pod容器名称</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%BF%9B%E5%85%A5%E6%9F%90%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E6%8C%87%E5%AE%9A%E7%9A%84%E5%AE%B9%E5%99%A8\"><span class=\"toc-text\">进入某一个动态指定的容器</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8B%B7%E8%B4%9D%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%88%B0%E5%AE%B9%E5%99%A8\"><span class=\"toc-text\">拷贝本地文件到容器</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8B%B7%E8%B4%9D%E5%AE%B9%E5%99%A8%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%AC%E5%9C%B0\"><span class=\"toc-text\">拷贝容器文件到本地</span></a></li></ol></li></ol>","author":{"name":"Michael","slug":"michael","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Just Do IT","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/TriDiamond6","juejin":"https://juejin.cn/user/1873223546578589","customs":{"bilibili":{"icon":"http://localhost:4000/svg/bilibili.svg","link":"https://live.bilibili.com/22619211"},"baidu":{"icon":"iconfont icon-baidu","link":"https://live.bilibili.com/22619211"},"book":{"icon":"far fa-address-book","link":"https://live.bilibili.com/22619211"},"facebook":{"icon":"/svg/facebook.svg","link":"https://facebook.com"}}}},"mapped":true,"prev_post":{"title":"Yii2基础","uid":"a5c2969ae041d169a8872b0ff677251d","slug":"05_PHP/PHP框架/Yii2","date":"2021-03-20T07:05:07.000Z","updated":"2022-10-05T13:38:02.016Z","comments":true,"path":"api/articles/05_PHP/PHP框架/Yii2.json","keywords":null,"cover":null,"text":"Yii2","link":"","photos":[],"count_time":{"symbolsCount":4,"symbolsTime":"1 mins."},"categories":[{"name":"PHP","slug":"PHP","count":24,"path":"api/categories/PHP.json"}],"tags":[{"name":"Yii2","slug":"Yii2","count":1,"path":"api/tags/Yii2.json"}],"author":{"name":"Michael","slug":"michael","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Just Do IT","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/TriDiamond6","juejin":"https://juejin.cn/user/1873223546578589","customs":{"bilibili":{"icon":"http://localhost:4000/svg/bilibili.svg","link":"https://live.bilibili.com/22619211"},"baidu":{"icon":"iconfont icon-baidu","link":"https://live.bilibili.com/22619211"},"book":{"icon":"far fa-address-book","link":"https://live.bilibili.com/22619211"},"facebook":{"icon":"/svg/facebook.svg","link":"https://facebook.com"}}}}},"next_post":{"title":"分布式","uid":"a595c434c3f9419b2137be25f49e6e71","slug":"00_架构/CAP","date":"2020-07-20T03:15:49.000Z","updated":"2022-10-06T01:56:29.386Z","comments":true,"path":"api/articles/00_架构/CAP.json","keywords":null,"cover":null,"text":"C - 一致性 A - 可用性 P - 分区容错性 BASE 基本可用 最终一致性 ","link":"","photos":[],"count_time":{"symbolsCount":45,"symbolsTime":"1 mins."},"categories":[{"name":"架构","slug":"架构","count":1,"path":"api/categories/架构.json"}],"tags":[{"name":"分布式架构","slug":"分布式架构","count":1,"path":"api/tags/分布式架构.json"}],"author":{"name":"Michael","slug":"michael","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Just Do IT","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/7318914058","zhihu":"https://www.zhihu.com/people/tridiamond","csdn":"https://blog.csdn.net/TriDiamond6","juejin":"https://juejin.cn/user/1873223546578589","customs":{"bilibili":{"icon":"http://localhost:4000/svg/bilibili.svg","link":"https://live.bilibili.com/22619211"},"baidu":{"icon":"iconfont icon-baidu","link":"https://live.bilibili.com/22619211"},"book":{"icon":"far fa-address-book","link":"https://live.bilibili.com/22619211"},"facebook":{"icon":"/svg/facebook.svg","link":"https://facebook.com"}}}}}}