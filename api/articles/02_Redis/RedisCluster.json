{"title":"Redis Cluster 原理探讨","uid":"ca18af8a7c9f51eca47fbf29c78c60fe","slug":"02_Redis/RedisCluster","date":"2020-07-25T12:55:57.000Z","updated":"2022-10-06T07:47:29.146Z","comments":true,"path":"api/articles/02_Redis/RedisCluster.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/image-20221004222258747.png","content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>  Redis Cluster</p></blockquote>\n<p><img src=\"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/image-20221004222258747.png\" alt=\"image-20221004222258747\"></p>\n<p>hash(key) % 16384 &#x3D; slot 哈希槽 &#x3D; hash(key) &amp; 2^n^</p>\n<p>slot - hash槽分布范围[0-5460] 、 [5461-10922]、[10923-16383]</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"># 创建RedisCluster配置的节点目录\n[root@redis]$ mkdir -p rediscluster&#x2F;node800&#123;1,2,3,4,5,6&#125;\n# 复制Redis配置到每个节点目录\n[root@redis]$ cp redis-5.0.2&#x2F;redis.conf rediscluster&#x2F;node8001&#x2F;\n# 修改节点配置\n[root@redis]$ vim rediscluster&#x2F;node8001&#x2F;redis.conf\n# 批量修改\n:%s&#x2F;8001&#x2F;8002&#x2F;g\n\n# 启动集群配置\n[root@redis]$ redis-server rediscluster&#x2F;800*&#x2F;redis.conf\n# 校验启动情况\n[root@reids]$ ps -ef | grep redis\n# 集群命令帮助\n[root@redis]$ redis-cli --cluster help\n# 创建集群关系\n[root@redis]$ redis-cli -a 111111 --cluster create --cluster-replicas 1 192.168.109.200:8001 192.168.109.200:8002 192.168.109.200:8003 192.168.109.200:8004 192.168.109.200:8005 192.168.109.200:8006  \n\n\n# 连接任意一个节点客户端[带-c说明是集群方式 智能客户端]\n[root@redis]$ redis-cli -a 111111 -c -h 192.168.109.200 -p 8001\n# 验证集群信息\n&gt; cluster info \n&gt; cluster nodes\n&gt; cluster slots</code></pre>\n\n\n\n<table>\n<thead>\n<tr>\n<th>序号</th>\n<th>配置项</th>\n<th>选项</th>\n<th>释义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>cluster-enabled</td>\n<td>yes</td>\n<td>启动集群模式</td>\n</tr>\n<tr>\n<td>2</td>\n<td>port</td>\n<td>8001</td>\n<td>端口</td>\n</tr>\n<tr>\n<td>3</td>\n<td>dir</td>\n<td>&#x2F;usr&#x2F;local&#x2F;redis-cluster&#x2F;8001&#x2F;</td>\n<td>指定数据目录，绝对目录</td>\n</tr>\n<tr>\n<td>4</td>\n<td>cluster-config-file</td>\n<td>nodes-8001.conf</td>\n<td>集群节点信息，hash crc16</td>\n</tr>\n<tr>\n<td>5</td>\n<td>cluster-node-timeout</td>\n<td>5000</td>\n<td>集群节点超时时间,心跳时间</td>\n</tr>\n<tr>\n<td>6</td>\n<td>bind</td>\n<td>#127.0.0.1</td>\n<td>测试需要注释掉，生产需指定配置</td>\n</tr>\n<tr>\n<td>7</td>\n<td>protected-mode</td>\n<td>no</td>\n<td>关闭保护模式</td>\n</tr>\n<tr>\n<td>8</td>\n<td>requirepass</td>\n<td>111111</td>\n<td>redis访问密码</td>\n</tr>\n<tr>\n<td>9</td>\n<td>masterauth</td>\n<td>111111</td>\n<td>集群节点间的访问密码，与上述保持一致</td>\n</tr>\n<tr>\n<td>10</td>\n<td>damonize</td>\n<td>yes</td>\n<td>后台启动</td>\n</tr>\n<tr>\n<td>11</td>\n<td>appendonly</td>\n<td>yes</td>\n<td></td>\n</tr>\n</tbody></table>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>  Laravel 框架 使用redis cluster需要修改的地方</p></blockquote>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"># .composer.lock\n# ...\n&quot;require&quot;: &#123;\n    # ...\n    &quot;php&quot;: &quot;^7.1.3&quot;,\n    &quot;predis&#x2F;predis&quot;: &quot;^1.1&quot;,\n    # 如果安装horizon，请注意Redis密码必设且相同\n    # config&#x2F;horizon.php中&#39;use&#39;&#x3D;&gt;&#39;horizon&#39;\n    # ...\n&#125;,\n# ...\n\n\n# .env\n# ...\nCACHE_DRIVER&#x3D;redis\n# ...\n    \n# cache.php\n# ...\n&#39;redis&#39; &#x3D;&gt; [\n    &#39;driver&#39;     &#x3D;&gt; &#39;redis&#39;,\n    &#39;connection&#39; &#x3D;&gt; &#39;default&#39;,\n],\n#...\n\n\n# database.php\n# ...\n&#39;redis&#39; &#x3D;&gt; [\n    &#39;client&#39;  &#x3D;&gt; env(&#39;REDIS_CLIENT&#39;, &#39;predis&#39;),\n    &#39;options&#39; &#x3D;&gt; [\n        &#39;cluster&#39; &#x3D;&gt; env(&#39;REDIS_CLUSTER&#39;, &#39;redis&#39;),\n    ],\n    &#39;clusters&#39; &#x3D;&gt; [\n        &#39;default&#39; &#x3D;&gt; [\n            [\n                &#39;host&#39;     &#x3D;&gt; env(&#39;REDIS_HOST_A&#39;),\n                &#39;password&#39; &#x3D;&gt; env(&#39;REDIS_PASSWORD_A&#39;),\n                &#39;port&#39;     &#x3D;&gt; env(&#39;REDIS_PORT_A&#39;, 6379),\n                &#39;database&#39; &#x3D;&gt; env(&#39;REDIS_DB_A&#39;, 0),\n            ],\n            [\n                &#39;host&#39;\t   &#x3D;&gt; env(&#39;REDIS_HOST_B&#39;),\n                &#39;password&#39; &#x3D;&gt; env(&#39;REDIS_PASSWORD_B&#39;),\n                &#39;port&#39;     &#x3D;&gt; env(&#39;REDIS_PORT_B&#39;, 6379),\n                &#39;database&#39; &#x3D;&gt; env(&#39;REDIS_DB_B&#39;, 0),\n            ],\n            [\n                &#39;host&#39;     &#x3D;&gt; env(&#39;REDIS_HOST_C&#39;),\n                &#39;password&#39; &#x3D;&gt; env(&#39;REDIS_PASSWORD_C&#39;),\n                &#39;port&#39;     &#x3D;&gt; env(&#39;REDIS_PORT_C&#39;, 6379),\n                &#39;database&#39; &#x3D;&gt; env(&#39;REDIS_DB_C&#39;, 0),\n            ],\n            [\n                &#39;host&#39;     &#x3D;&gt; env(&#39;REDIS_HOST_D&#39;),\n                &#39;password&#39; &#x3D;&gt; env(&#39;REDIS_PASSWORD_D&#39;),\n                &#39;port&#39;     &#x3D;&gt; env(&#39;REDIS_PORT_D&#39;, 6379),\n                &#39;database&#39; &#x3D;&gt; env(&#39;REDIS_DB_D&#39;, 0),\n            ],\n            [\n                &#39;host&#39;     &#x3D;&gt; env(&#39;REDIS_HOST_E&#39;),\n                &#39;password&#39; &#x3D;&gt; env(&#39;REDIS_PASSWORD_E&#39;),\n                &#39;port&#39;     &#x3D;&gt; env(&#39;REDIS_PORT_E&#39;, 6379),\n                &#39;database&#39; &#x3D;&gt; env(&#39;REDIS_DB_E&#39;, 0),\n            ],\n            [\n                &#39;host&#39;     &#x3D;&gt; env(&#39;REDIS_HOST_F&#39;),\n                &#39;password&#39; &#x3D;&gt; env(&#39;REDIS_PASSWORD_F&#39;),\n                &#39;port&#39;     &#x3D;&gt; env(&#39;REDIS_PORT_F&#39;, 6379),\n                &#39;database&#39; &#x3D;&gt; env(&#39;REDIS_DB_F&#39;, 0),\n            ],\n        ],\n    ],\n],\n# ...\n</code></pre>\n\n\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>  Redis Cluster 注意事项</p></blockquote>\n<ul>\n<li>不完全支持批量操作：mset、mget</li>\n<li>事务不能跨节点支持</li>\n<li>不支持多实例</li>\n<li>key 是最小粒度</li>\n<li>最少 6 个才能保证组成完整高可用的集群</li>\n<li>连接的时候只需要连接 1 台服务器即可。</li>\n<li>如果 1 个主从连接宕机的话，那么集群就宕机了。</li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>  应用场景</p></blockquote>\n<p>计数器 string incr</p>\n<p>分布式ID生成 incr</p>\n<p>海量数据统计 - bitmap</p>\n<p>会话缓存 key value</p>\n<p>分布式队列&#x2F;阻塞队列 list 双向链表 <code>lpush/rpush</code> <code>rpop/lpop</code>    <code>brpop/blpop</code>阻塞队列</p>\n<p>分布式锁[setnx]</p>\n<p>热键 HotKey  存储 [list] ltrim\t\t用户路由\t\t二级缓存\t\t</p>\n<p>社交类 - 好友推荐、文章 set</p>\n<p>排行榜 sorted_set</p>\n<p>延迟队列 - sorted_set &amp; zadd + zrangbyscore + rem key</p>\n<p>地址服务 [geo]</p>\n<p>布隆过滤器  [0-1]</p>\n","feature":true,"text":" Redis Cluster hash(key) % 16384 &#x3D; slot 哈希槽 &#x3D; hash(key) &amp; 2^n^ slot - hash槽分布范围[0-5460] 、 [5461-10922]、[10923-16383] # 创建Redis...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"Redis","slug":"Redis","count":10,"path":"api/categories/Redis.json"}],"tags":[{"name":"redis","slug":"redis","count":10,"path":"api/tags/redis.json"},{"name":"高可用","slug":"高可用","count":1,"path":"api/tags/高可用.json"},{"name":"集群","slug":"集群","count":1,"path":"api/tags/集群.json"}],"toc":"","author":{"name":"Michael","slug":"michael","avatar":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/blog_logo.jpeg","link":"/","description":"知我所能者，我所能者，尽善尽美；<br/> <br/> 知我所不能者，我所不能者，虚怀若谷。","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"https://stackoverflow.com/users/11422545/mikeah2011","wechat":"","qq":"","weibo":"https://weibo.com/u/2383628417","zhihu":"https://www.zhihu.com/people/michael-12-18","csdn":"https://blog.csdn.net/weixin_41273562","juejin":"https://juejin.cn/user/4389711549044269","customs":{}}},"mapped":true,"prev_post":{"title":"MySQL优化经验总结","uid":"4337dc43129fb733f89eff2c212fe09e","slug":"01_MySQL/SQL优化","date":"2022-05-20T15:15:47.000Z","updated":"2022-10-06T07:41:21.366Z","comments":true,"path":"api/articles/01_MySQL/SQL优化.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/6411.png","text":" 线上SQL的调优经验 slow_query_log 日志中收集到的慢 SQL ，结合 explain 分析是否命中索引。 减少索引扫描行数，有针对性的优化慢 SQL。 建立联合索引，由于联合索引的每个叶子节点包含检索字段的信息，按最左前缀原则匹配后，再按其它条件过滤，减少回表的...","link":"","photos":[],"count_time":{"symbolsCount":902,"symbolsTime":"1 mins."},"categories":[{"name":"SQL","slug":"SQL","count":15,"path":"api/categories/SQL.json"}],"tags":[{"name":"MySQL","slug":"MySQL","count":16,"path":"api/tags/MySQL.json"}],"author":{"name":"Michael","slug":"michael","avatar":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/blog_logo.jpeg","link":"/","description":"知我所能者，我所能者，尽善尽美；<br/> <br/> 知我所不能者，我所不能者，虚怀若谷。","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"https://stackoverflow.com/users/11422545/mikeah2011","wechat":"","qq":"","weibo":"https://weibo.com/u/2383628417","zhihu":"https://www.zhihu.com/people/michael-12-18","csdn":"https://blog.csdn.net/weixin_41273562","juejin":"https://juejin.cn/user/4389711549044269","customs":{}}},"feature":true},"next_post":{"title":"PHP代码洁癖心得","uid":"6413658dbb1fc2cffd06814af177e795","slug":"05_PHP/代码优化","date":"2019-10-06T07:06:38.000Z","updated":"2022-10-07T14:20:03.064Z","comments":true,"path":"api/articles/05_PHP/代码优化.json","keywords":null,"cover":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/5ea38ff8793f7854-20221006153725317.jpg","text":" if的使用洁癖 给定初始值 if ($orderStatus &#x3D;&#x3D; 1) &#123; $orderDesc &#x3D; &#39;已支付&#39;; # 其他的elseif ... &#125; else &#123; $orderDesc &#x3D;...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[{"name":"PHP","slug":"PHP","count":24,"path":"api/categories/PHP.json"}],"tags":[{"name":"优化","slug":"优化","count":1,"path":"api/tags/优化.json"}],"author":{"name":"Michael","slug":"michael","avatar":"https://cdn.jsdelivr.net/gh/mikeah2011/oss@main/uPic/blog_logo.jpeg","link":"/","description":"知我所能者，我所能者，尽善尽美；<br/> <br/> 知我所不能者，我所不能者，虚怀若谷。","socials":{"github":"https://github.com/mikeah2011","twitter":"","stackoverflow":"https://stackoverflow.com/users/11422545/mikeah2011","wechat":"","qq":"","weibo":"https://weibo.com/u/2383628417","zhihu":"https://www.zhihu.com/people/michael-12-18","csdn":"https://blog.csdn.net/weixin_41273562","juejin":"https://juejin.cn/user/4389711549044269","customs":{}}},"feature":true}}